<p id="notice"><%= notice %></p>

<h1><%= @person.display_name %></h1>

<p>
  <strong>Birthdate:</strong> <%= @person.birthdate ? @person.birthdate : "N/A" %>,
  <strong>Active:</strong> <%= @person.active ? 'Y' : 'N' %>
</p>

<h2>Attendance</h2>
<canvas id="myChart" width="800" height="300"></canvas>
<script>
$.get("<%= attendance_person_path(@person, format: 'json') %>", function(data,status){
    myNewChart = new Chart($("#myChart").get(0).getContext("2d")).Bar(data)
  });
</script>

<h2>Ranks</h2>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Style</th>
      <th>Rank</th>
    </tr>
  </thead>

  <tbody>
    <% @awards.each do |award| %>
      <tr>
        <td><%= award.date %></td>
        <td><%= award.rank.style.description %></td>
        <td><%= award.rank.name %></td>
      </tr>
    <% end %>
  </tbody>
</table>


<%= link_to 'Edit', edit_person_path(@person) %> |
<%= link_to 'Back', people_path %>
